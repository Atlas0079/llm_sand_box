{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://example.com/item.schema.json",
    "title": "Item Template Schema",
    "description": "Describes the structure for defining item templates in the game.",
    "type": "object",
    
    "patternProperties": {
      "^[a-zA-Z0-9_]+$": {
        "$ref": "#/definitions/itemTemplate"
      }
    },
    "additionalProperties": false,
  
    "definitions": {
      "itemTemplate": {
        "type": "object",
        "properties": {
          "name": {
            "description": "The display name of the item.",
            "type": "string"
          },
          "components": {
            "description": "A map of components to attach to the entity.",
            "type": "object",
            "patternProperties": {
              "^[A-Z][a-zA-Z0-9]*Component$": {
                "$ref": "#/definitions/componentProperties"
              }
            },
            "additionalProperties": false
          }
        },
        "required": ["name", "components"]
      },
  
      "componentProperties": {
        "description": "Properties for a specific component. This part is flexible.",
        "type": "object",
        "properties": {
          "tags": {
            "description": "Specific for TagComponent: a list of unique string tags.",
            "type": "array",
            "items": { "type": "string" },
            "uniqueItems": true
          },
          "hunger_restore": {
            "description": "Specific for ConsumableComponent: amount of hunger to restore.",
            "type": "number"
          },
          "damage": {
              "description": "Specific for ThrowableComponent: amount of damage.",
              "type": "integer",
              "minimum": 0
          }
        }
      }
    }
  }